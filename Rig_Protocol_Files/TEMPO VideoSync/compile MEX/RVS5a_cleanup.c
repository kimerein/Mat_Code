#include "mex.h"#include "NIDAQmxBase.h"#define DAQmxErrChk(functionCall) { if( DAQmxFailed(error=(functionCall)) ) { goto Error; } }void mexFunction(int nlhs, mxArray *plhs[], int nrhs, const mxArray *prhs[]){        int32  error = 0;    char   errBuff[2048];        unsigned long *addressReceiverFlag;    unsigned long *addressSenderFlag;    unsigned long *addressLowByte;    unsigned long *addressHighByte;        addressReceiverFlag = (unsigned long *) mxGetPr(prhs[0]);    addressSenderFlag   = (unsigned long *) mxGetPr(prhs[1]);    addressLowByte      = (unsigned long *) mxGetPr(prhs[2]);    addressHighByte     = (unsigned long *) mxGetPr(prhs[3]);        DAQmxErrChk (DAQmxBaseStopTask ((TaskHandle) *addressReceiverFlag));    DAQmxErrChk (DAQmxBaseClearTask ((TaskHandle) *addressReceiverFlag));        DAQmxErrChk (DAQmxBaseStopTask ((TaskHandle) *addressSenderFlag));    DAQmxErrChk (DAQmxBaseClearTask ((TaskHandle) *addressSenderFlag));        DAQmxErrChk (DAQmxBaseStopTask ((TaskHandle) *addressLowByte));    DAQmxErrChk (DAQmxBaseClearTask ((TaskHandle) *addressLowByte));        DAQmxErrChk (DAQmxBaseStopTask ((TaskHandle) *addressHighByte));    DAQmxErrChk (DAQmxBaseClearTask ((TaskHandle) *addressHighByte));        Error:                if (DAQmxFailed (error))            DAQmxBaseGetExtendedErrorInfo (errBuff, 2048);                if (error)            mexPrintf("DAQmxBase Error %d: %s\n", error, errBuff);        }